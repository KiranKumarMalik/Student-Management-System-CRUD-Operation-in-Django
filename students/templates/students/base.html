{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Student Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
  </head>
  <body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand text-warning" href="{% url 'index' %}">
          <i class="fa-solid fa-graduation-cap fa-lg"></i> Student Management System
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item bg-primary rounded-pill">
              <a class="nav-link text-white" href="{% url 'index' %}">
                <i class="fa-solid fa-users"></i> All Students
              </a>
            </li>
            <li class="nav-item bg-success rounded-pill">
              <a class="nav-link text-white" href="{% url 'add' %}">
                <i class="fa-solid fa-plus fa-lg"></i> Add Student
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container-fluid">
      {% block body %}
      {% endblock %}
    </div>
    <footer class="mt-auto mb-4">
      <div class="text-center">
        <span>
          Copyright &copy; <script>document.write(new Date().getFullYear())</script> Kiran Kumar Malik
        </span>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
          const courseSelect = document.getElementById("course-select");
          const fieldSelect = document.getElementById("field-select");
      
          // Field of Study options based on Course
          const fieldOptions = {
              "BTECH": ["Computer Science and Engineering", "Mechanical Engineering", "Electrical Engineering", "Biotechnology"],
              "MTECH": ["Data Science", "Electronics", "Robotics", "Artificial Intelligence", "Cloud Computing", "Cyber Security"],
              "BCA": ["Computer Science", "Information Technology", "Software Engineering", "Mobile Application Development"],
              "Bachelors": ["Economics", "Physics", "Mathematics"],
              "Masters": ["Finance", "Biotechnology", "Psychology", "Sociology"],
              "MCA": ["Data Science", "Artificial Intelligence", "Cyber Security", "Cloud Computing"],
              "MSc": ["Physics", "Chemistry", "Mathematics"],
              "PhD": ["Computer Science", "Biotechnology", "Physics"],
              "BCom": ["General", "Accounting", "Finance"],
              "MCom": ["General", "Accounting", "Finance"],
              "BSc": ["Physics", "Chemistry", "Mathematics"],
              "MBA": ["Finance", "Marketing", "Human Resource"],
              "BBA": ["Finance", "Marketing", "Human Resource"],
              "Diploma": ["Business Management", "Graphic Design", "Marketing", "Information Technology"],
              "ITI": ["Welding", "Fitting", "Electrician"]
          };
      
          function updateFieldOptions(selectedCourse) {
              fieldSelect.innerHTML = ""; // Clear previous options
      
              if (fieldOptions[selectedCourse]) {
                  fieldOptions[selectedCourse].forEach(field => {
                      let option = document.createElement("option");
                      option.value = field;
                      option.textContent = field;
                      fieldSelect.appendChild(option);
                  });
              }
          }
      
          // Run when page loads
          updateFieldOptions(courseSelect.value);
      
          // Change field options when course changes
          courseSelect.addEventListener("change", function() {
              updateFieldOptions(this.value);
          });
      });
      </script>
  </body>
</html>